<?xml version='1.0' encoding='UTF-8'?>

<!-- =========== FULL CONFIGURATION FILE ================================== -->

<faces-config version="2.0"
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd">
	<navigation-rule>
		<!--<managed-bean>
			<managed-bean-name>authenticationBean</managed-bean-name>
			<managed-bean-class>org.fit.pis.library.back.AuthenticationBean</managed-bean-class>
			<managed-bean-scope>session</managed-bean-scope>
		</managed-bean>-->
		<from-view-id>/index.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>failed</from-outcome>
			<to-view-id>/index.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>login</from-outcome>
			<to-view-id>/app/home.xhtml</to-view-id>
		</navigation-case>
	 <navigation-case>
	  <from-outcome>home</from-outcome>
	  <to-view-id>/app/home.xhtml</to-view-id>
	 </navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/app/*</from-view-id>
		<navigation-case>
			<from-outcome>logout</from-outcome>
			<to-view-id>/index.xhtml</to-view-id>
		</navigation-case>
	 <navigation-case>
	  <from-outcome>manage_users</from-outcome>
	  <to-view-id>/app/admin/manage_users.xhtml</to-view-id>
	 </navigation-case>
	 <navigation-case>
	  <from-outcome>home</from-outcome>
	  <to-view-id>/app/home.xhtml</to-view-id>
	 </navigation-case>
	 <navigation-case>
	  <from-outcome>manage_readers</from-outcome>
	  <to-view-id>/app/librarian/manage_readers.xhtml</to-view-id>
	 </navigation-case>
	 <navigation-case>
	  <from-outcome>change_password</from-outcome>
	  <to-view-id>/app/reader/change_password.xhtml</to-view-id>
	 </navigation-case>
	 <navigation-case>
	  <from-outcome>searchBooks</from-outcome>
	  <to-view-id>/app/reader/catalog.xhtml</to-view-id>
	 </navigation-case>
	 <navigation-case>
	  <from-outcome>viewBooks</from-outcome>
	  <to-view-id>/app/reader/catalog.xhtml</to-view-id>
	 </navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/app/home.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>test</from-outcome>
			<to-view-id>/app/test.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<converter>
		<converter-id>authorConverter</converter-id>
		<converter-class>org.fit.pis.library.back.converters.AuthorConverter</converter-class>
	</converter>
	<converter>
		<converter-id>dateConverter</converter-id>
		<converter-class>org.fit.pis.library.back.converters.DateConverter</converter-class>
	</converter>
    <navigation-rule>
        <from-view-id>/app/admin/manage_users.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>edit</from-outcome>
            <to-view-id>/app/admin/edit_user.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>new</from-outcome>
            <to-view-id>/app/admin/new_user.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/app/admin/edit_user.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>cancel</from-outcome>
            <to-view-id>/app/admin/manage_users.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/app/admin/new_user.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>cancel</from-outcome>
            <to-view-id>/app/admin/manage_users.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit</from-outcome>
            <to-view-id>/app/admin/edit_user.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
 <navigation-rule>
  <from-view-id>/app/librarian/manage_readers.xhtml</from-view-id>
  <navigation-case>
   <from-outcome>new</from-outcome>
   <to-view-id>/app/librarian/new_reader.xhtml</to-view-id>
  </navigation-case>
  <navigation-case>
   <from-outcome>edit</from-outcome>
   <to-view-id>/app/librarian/edit_reader.xhtml</to-view-id>
  </navigation-case>
 </navigation-rule>
 <navigation-rule>
  <from-view-id>/app/librarian/new_reader.xhtml</from-view-id>
  <navigation-case>
   <from-outcome>cancel</from-outcome>
   <to-view-id>/app/librarian/manage_readers.xhtml</to-view-id>
  </navigation-case>
  <navigation-case>
   <from-outcome>edit</from-outcome>
   <to-view-id>/app/librarian/edit_reader.xhtml</to-view-id>
  </navigation-case>
 </navigation-rule>
 <navigation-rule>
  <from-view-id>/app/librarian/edit_reader.xhtml</from-view-id>
  <navigation-case>
   <from-outcome>cancel</from-outcome>
   <to-view-id>/app/librarian/manage_readers.xhtml</to-view-id>
  </navigation-case>
 </navigation-rule>
 <navigation-rule>
  <from-view-id>/need_login.xhtml</from-view-id>
  <navigation-case>
   <from-outcome>login</from-outcome>
   <to-view-id>/index.xhtml</to-view-id>
  </navigation-case>
 </navigation-rule>
    <navigation-rule>
        <from-view-id>/access_denied.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>home</from-outcome>
            <to-view-id>/app/home.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/app/reader/catalog.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>detail</from-outcome>
            <to-view-id>/app/reader/book_detail.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
</faces-config>
