<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:c="http://java.sun.com/jsp/jstl/core"
	  xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">


	<ui:composition template="../template.xhtml">
		<ui:define name="content">
			<h2>Úprava knihy</h2>

			<h:form>
				<h:panelGrid columns="2">
					<h:outputLabel rendered="true" value="Název titulu:*"></h:outputLabel>
					<h:inputTextarea value="#{manageBooksBean.book.name}" required="true"
									 requiredMessage="Název titulu musí být vyplněn">
					</h:inputTextarea>

					<h:outputLabel rendered="true" value="Název 1. autora*"></h:outputLabel>                                  
					<h:selectOneMenu value="#{manageBooksBean.nazov_1_autora}" required="true"
									 requiredMessage="První autor musí být zvolen">                                               
						<f:selectItems value="#{manageBooksBean.authors}" />
					</h:selectOneMenu>

					<h:outputLabel rendered="true" value="Název 2. autora*"></h:outputLabel>

					<h:selectOneMenu value="#{manageBooksBean.nazov_2_autora}" required="true">                                               
						<f:selectItem itemValue="all" itemLabel="" />                                               
						<f:selectItems value="#{manageBooksBean.authors}" />
					</h:selectOneMenu>

					<h:outputLabel rendered="true" value="Název 3. autora*"></h:outputLabel>
					<h:selectOneMenu value="#{manageBooksBean.nazov_3_autora}" required="true">                                               
						<f:selectItem itemValue="all" itemLabel="" />                                               
						<f:selectItems value="#{manageBooksBean.authors}" />
					</h:selectOneMenu>

					<h:outputLabel rendered="true" value="Název 4. autora*"></h:outputLabel>
					<h:selectOneMenu value="#{manageBooksBean.nazov_4_autora}" required="true">                                               
						<f:selectItem itemValue="all" itemLabel="" />                                               
						<f:selectItems value="#{manageBooksBean.authors}" />
					</h:selectOneMenu>

					<h:outputLabel rendered="true" value="Rok:*"></h:outputLabel>
					<h:inputText value="#{manageBooksBean.rok_vydania}" required="true"
								 requiredMessage="Rok musí být vyplněn"
								 validatorMessage="Rok musí být ve tvaru YYYY">                                
								<f:validateRegex pattern="^[1-2][0-9][0-9][0-9]$" />
					</h:inputText>

					<h:outputLabel rendered="true" value="Počet strán:"></h:outputLabel>
					<h:inputText value="#{manageBooksBean.book.pages}"
								 validatorMessage="Počet stran musí být číslo">                                
								<f:validateRegex pattern="^[0-9]*$" />
					</h:inputText>
					<h:outputLabel rendered="true" value="Edice:"></h:outputLabel>
					<h:inputText value="#{manageBooksBean.book.edition}">
					</h:inputText>
					<h:outputLabel rendered="true" value="Město:*"></h:outputLabel>
					<h:inputText value="#{manageBooksBean.book.place}" required="true"
									 requiredMessage="Město musí být vyplněno">
					</h:inputText>


					<h:outputLabel rendered="true" value="Žáner*"></h:outputLabel>
					<h:selectOneMenu value="#{manageBooksBean.nazov_zanru}" required="true"
									 requiredMessage="Žánr musí být zvolen">
						<f:selectItems value="#{manageBooksBean.genres}" />
					</h:selectOneMenu>

					<h:outputLabel rendered="true" value="Vydavatelství*"></h:outputLabel>
					<h:selectOneMenu value="#{manageBooksBean.nazov_vydavatelstva}" required="true"
									 requiredMessage="Vydavatelství musí být zvoleno">                                               
						<f:selectItems value="#{manageBooksBean.publishers}" />
					</h:selectOneMenu>

					<h:outputLabel rendered="true" value="Kód*"></h:outputLabel>
					<h:inputText value="#{manageBooksBean.book.code}" required="true"
									 requiredMessage="Kód titulu musí být vyplněn">
					</h:inputText>

				</h:panelGrid>

				<p><strong>* údaje označené hvězdičkou jsou povinné</strong></p>

				<p>
				<h:commandButton action="#{manageBooksBean.actionUpdate}" value="Uložit změny">
				</h:commandButton>
				<h:commandButton immediate="true" action="cancel" value="Hotovo" onclick="return confirm('Všechny neuložené změny budou ztraceny. Pokračovat?');">
				</h:commandButton>
				</p>

			</h:form>
		</ui:define>
	</ui:composition>

</html>

